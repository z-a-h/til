# Filters

Filters are functions that take three parameters: data, connection, and hook.

## Data

Data is the data created from the event.

```
{ __v: 0,
  updatedAt: 2017-04-18T23:05:53.505Z,
  createdAt: 2017-04-18T23:05:53.505Z,
  text: 'asdfa',
  storyId: 58f4414b76379a43aea001d7,
  createdBy: 58f31cd2ecbe121db94fb0f9,
  _id: 58f69bd1f6ceaa6aad2af6cd }
```

## Connection

Connection gives information about the provider and the user who generated the event.

```
{ provider: 'socketio',
  payload: { userId: '58f31cd2ecbe121db94fb0f9' },
  user:
   { _id: 58f31cd2ecbe121db94fb0f9,
     email: 'test@mailinator.com',
     password: '$2a$10$sNc2qIoIVrvbyTPYoX3Phe6CjlBO5hlt8FWo9w7PoVXWUnM4BvJUO',
     updatedAt: 2017-04-16T07:27:14.020Z,
     createdAt: 2017-04-16T07:27:14.020Z,
     __v: 0 },
  accessToken: 'eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyIsInR5cGUiOiJhY2Nlc3MifQ.eyJ1c2VySWQiOiI1OGYzMWNkMmVjYmUxMjFkYjk0ZmIwZjkiLCJpYXQiOjE0OTI1NTY3NDgsImV4cCI6MTQ5MjY0MzE0OCwiYXVkIjoiaHR0cHM6Ly95b3VyZG9tYWluLmNvbSIsImlzcyI6ImZlYXRoZXJzIiwic3ViIjoiYW5vbnltb3VzIn0.m3CQX5qtN8ihNQSdlmIS-oh8GiVRochQGgHy70uCG7g',
  headers: { Authorization: 'eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyIsInR5cGUiOiJhY2Nlc3MifQ.eyJ1c2VySWQiOiI1OGYzMWNkMmVjYmUxMjFkYjk0ZmIwZjkiLCJpYXQiOjE0OTI1NTY3NDgsImV4cCI6MTQ5MjY0MzE0OCwiYXVkIjoiaHR0cHM6Ly95b3VyZG9tYWluLmNvbSIsImlzcyI6ImZlYXRoZXJzIiwic3ViIjoiYW5vbnltb3VzIn0.m3CQX5qtN8ihNQSdlmIS-oh8GiVRochQGgHy70uCG7g' },
  authenticated: true }
  ```

## Hook

The hook is the hook object from the original method call. Via the hook object, you can access the `data` before the event, the `params`, as well as the `app` object.

```
{ data:
   { text: 'asdfa',
     storyId: '58f4414b76379a43aea001d7',
     createdBy: 58f31cd2ecbe121db94fb0f9 },
  params:
   { query: {},
     provider: 'socketio',
     payload: { userId: '58f31cd2ecbe121db94fb0f9' },
     user:
      { _id: 58f31cd2ecbe121db94fb0f9,
        email: 'test@mailinator.com',
        password: '$2a$10$sNc2qIoIVrvbyTPYoX3Phe6CjlBO5hlt8FWo9w7PoVXWUnM4BvJUO',
        updatedAt: 2017-04-16T07:27:14.020Z,
        createdAt: 2017-04-16T07:27:14.020Z,
        __v: 0 },
     accessToken: 'eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyIsInR5cGUiOiJhY2Nlc3MifQ.eyJ1c2VySWQiOiI1OGYzMWNkMmVjYmUxMjFkYjk0ZmIwZjkiLCJpYXQiOjE0OTI1NTY3NDgsImV4cCI6MTQ5MjY0MzE0OCwiYXVkIjoiaHR0cHM6Ly95b3VyZG9tYWluLmNvbSIsImlzcyI6ImZlYXRoZXJzIiwic3ViIjoiYW5vbnltb3VzIn0.m3CQX5qtN8ihNQSdlmIS-oh8GiVRochQGgHy70uCG7g',
     headers: { Authorization: 'eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyIsInR5cGUiOiJhY2Nlc3MifQ.eyJ1c2VySWQiOiI1OGYzMWNkMmVjYmUxMjFkYjk0ZmIwZjkiLCJpYXQiOjE0OTI1NTY3NDgsImV4cCI6MTQ5MjY0MzE0OCwiYXVkIjoiaHR0cHM6Ly95b3VyZG9tYWluLmNvbSIsImlzcyI6ImZlYXRoZXJzIiwic3ViIjoiYW5vbnltb3VzIn0.m3CQX5qtN8ihNQSdlmIS-oh8GiVRochQGgHy70uCG7g' },
     authenticated: true },
  callback: [Function: callbackWrapper],
  method: 'create',
  type: 'after',
  app:
   { [Function: app]
     domain: undefined,
     _events: { mount: [Object] },
     _maxListeners: undefined,
     setMaxListeners: [Function: setMaxListeners],
     getMaxListeners: [Function: getMaxListeners],
     emit: [Function: emit],
     addListener: [Function: addListener],
     on: [Function: addListener],
     prependListener: [Function: prependListener],
     once: [Function: once],
     prependOnceListener: [Function: prependOnceListener],
     removeListener: [Function: removeListener],
     removeAllListeners: [Function: removeAllListeners],
     listeners: [Function: listeners],
     listenerCount: [Function: listenerCount],
     eventNames: [Function: eventNames],
     init: [Function: init],
     defaultConfiguration: [Function: defaultConfiguration],
     lazyrouter: [Function: lazyrouter],
     handle: [Function: handle],
     use: [Function],
     route: [Function: route],
     engine: [Function: engine],
     param: [Function: param],
     set: [Function: set],
     path: [Function: path],
     enabled: [Function: enabled],
     disabled: [Function: disabled],
     enable: [Function: enable],
     disable: [Function: disable],
     acl: [Function],
     bind: [Function],
     checkout: [Function],
     connect: [Function],
     copy: [Function],
     delete: [Function],
     get: [Function],
     head: [Function],
     link: [Function],
     lock: [Function],
     'm-search': [Function],
     merge: [Function],
     mkactivity: [Function],
     mkcalendar: [Function],
     mkcol: [Function],
     move: [Function],
     notify: [Function],
     options: [Function],
     patch: [Function],
     post: [Function],
     propfind: [Function],
     proppatch: [Function],
     purge: [Function],
     put: [Function],
     rebind: [Function],
     report: [Function],
     search: [Function],
     subscribe: [Function],
     trace: [Function],
     unbind: [Function],
     unlink: [Function],
     unlock: [Function],
     unsubscribe: [Function],
     all: [Function: all],
     del: [Function],
     render: [Function: render],
     listen: [Function],
     request: IncomingMessage { app: [Circular] },
     response: ServerResponse { app: [Circular] },
     cache: {},
     engines: {},
     settings:
      { 'x-powered-by': true,
        etag: 'weak',
        'etag fn': [Function: wetag],
        env: 'development',
        'query parser': 'extended',
        'query parser fn': [Function: parseExtendedQueryString],
        'subdomain offset': 2,
        'trust proxy': false,
        'trust proxy fn': [Function: trustNone],
        view: [Function: View],
        views: '/Users/zah/Projects/galatea-app-2/views',
        'jsonp callback name': 'callback',
        host: 'localhost',
        port: 8080,
        public: '/Users/zah/Projects/galatea-app-2/public',
        paginate: [Object],
        authentication: [Object],
        mongodb: 'mongodb://localhost:27017/galatea',
        mongooseClient: [Object],
        auth: [Object] },
     _eventsCount: 1,
     locals: { settings: [Object] },
     mountpath: '/',
     service: [Function: service],
     setup: [Function],
     configure: [Function: configure],
     methods: [ 'find', 'get', 'create', 'update', 'patch', 'remove' ],
     mixins:
      [ [Function: hookMixin],
        [Function],
        [Function],
        [Function: socketMixin],
        [Function: filterMixin],
        [Function],
        push: [Function] ],
     services:
      { authentication: [Object],
        users: [Object],
        stories: [Object],
        messages: [Object] },
     providers: [ [Function] ],
     _setup: false,
     _super: undefined,
     _router:
      { [Function: router]
        params: {},
        _params: [],
        caseSensitive: false,
        mergeParams: undefined,
        strict: false,
        stack: [Object] },
     hooks: [Function: hooks],
     rest:
      { find: [Function: bound getHandler],
        get: [Function: bound getHandler],
        create: [Function: bound getHandler],
        update: [Function: bound getHandler],
        patch: [Function: bound getHandler],
        remove: [Function: bound getHandler] },
     passport:
      Authenticator {
        _key: 'passport',
        _strategies: [Object],
        _serializers: [],
        _deserializers: [],
        _infoTransformers: [],
        _framework: [Object],
        _userProperty: 'user',
        Authenticator: [Function: Authenticator],
        Passport: [Function: Authenticator],
        Strategy: [Object],
        strategies: [Object],
        _feathers: [Object],
        createJWT: [Function: createJWT],
        verifyJWT: [Function: verifyJWT],
        options: [Function] },
     authenticate: [Function: bound ],
     io:
      Server {
        nsps: [Object],
        _path: '/socket.io',
        _serveClient: true,
        _adapter: [Function: Adapter],
        _origins: '*:*',
        sockets: [Object],
        eio: [Object],
        httpServer: [Object],
        engine: [Object] },
     _socketInfo:
      { method: 'emit',
        connection: [Function: connection],
        clients: [Function: clients],
        params: [Function: params] },
     _isSetup: true } }
```
